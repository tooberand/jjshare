;; File: statusmd.el
;; last revised: Alan Switzer,  4-Nov-1996

;;
;; This is a SHARED FILE and lives in pub/lisp
;;

(setq auto-mode-alist (append '(("\\.log$" . status-mode)) auto-mode-alist))

;;; Status mode
(defvar status-mode-map (make-sparse-keymap)
  "Keymap used in status mode.")

(defun status-mode ()
  "Major mode for editing my status files."
  (interactive)
  (kill-all-local-variables)
  (use-local-map status-mode-map)
  (setq major-mode 'status-mode)
  (setq mode-name "Status")
  (run-hooks 'status-mode-hook))

(make-face 'font-lock-status-sep-line-face)
(make-face 'font-lock-status-hrs-face)
(make-face 'font-lock-status-date-face)
(make-face 'font-lock-status-dot-face)
(make-face 'font-lock-wk-ending-face)
(set-face-foreground 'font-lock-status-sep-line-face "red")
(set-face-foreground 'font-lock-status-hrs-face "yellow")
(set-face-foreground 'font-lock-status-date-face "cyan")
(set-face-foreground 'font-lock-status-dot-face "magenta")
(set-face-foreground 'font-lock-wk-ending-face "turquoise")
(defconst status-font-lock-keywords
  '(
	("---+" . font-lock-status-sep-line-face)
	("^[\t ]*\\*[\t ]" . font-lock-status-dot-face)
	("^.*\\(Jan \\|Feb \\|Mar \\|Apr \\|May\\|Jun \\|Jul \\|Aug \\|Sep \\|Oct \\|Nov \\|Dec \\|January\\|February\\|March\\|April\\|June\\|July\\|August\\|September\\|October\\|November\\|December\\).*$" 	
	 . font-lock-status-date-face)
	("^.*\\(Jan\\|Feb\\|Mar\\|Apr\\|May\\|Jun\\|Jul\\|Aug\\|Sep\\|Oct\\|Nov\\|Dec\\)$" . font-lock-status-date-face)
	("week ending.*" . font-lock-wk-ending-face)
	("\\(-->.*hrs\\)" 1 font-lock-status-hrs-face t)
))

(add-hook 'status-mode-hook
		  (function (lambda()
					 (setq tab-width 4)
					 (font-lock-mode 1))))
